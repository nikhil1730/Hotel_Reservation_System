
package ADSProject;
import java.sql.*;

public class HelloWorld {
	public static String fetchHotels(String location) {
		String s = "select * from Hotel where Location like '%" + location + "' and RoomsAvailable is true";
		return s;
	}
	public static String selectHotel(int hotelId) {
		String fetchRooms = "select * from Room where Room.HotelId = " + String.valueOf(hotelId) + " and Status is true";
		System.out.println(fetchRooms);
		return fetchRooms;
	}
	public static void main(String[] args) throws SQLException{
		Scanner in = new Scanner(System.in);
		String url = "jdbc:ucanaccess://D://Projects//EclipseJavaProjects//ADS_Project_DB.accdb";
		Connection con = DriverManager.getConnection(url);
		Statement s = con.createStatement();
//		ResultSet rs = s.executeQuery("Select * from Employee where Name like '%N'");
		System.out.println("Enter the location: ");
        String location =	 in.nextLine();
        System.out.println(location);
		ResultSet rs = s.executeQuery(fetchHotels(location));

//		ResultSet rs = s.executeQuery(fetchHotels("HYD"));
		while(rs.next()) {
//			System.out.println(rs.getString(1));
			ResultSet rs1 = s.executeQuery(selectHotel(rs.getInt(1)));
			while(rs1.next()) {
				System.out.println(rs1.getString(2));
			}
		}
//		System.out.println(fetchHotels("HYD"));
//		System.out.println("Hello World");
	}
	

}
